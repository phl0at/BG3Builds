import{c as j,a as p,j as s,i as v,u as m,r as u,I as b,_ as g}from"./index-56119111.js";import{s as a}from"./index-af6d5ed9.js";import{b as S,c as y,p as k}from"./index-6e42dc81.js";import{E}from"./ErrorModal-803f6696.js";import{O as A}from"./OpenModalButton-95cc9644.js";const L="_main_yrgfa_1",M="_title_yrgfa_13",D="_buttons_yrgfa_18",z="_reset_yrgfa_25",I="_cancel_yrgfa_35",o={main:L,title:M,buttons:D,reset:z,cancel:I};function R(){const{closeModal:d}=j(),n=p(),i=r=>{r.preventDefault(),n(v("build/resetClasses")),d()},l=r=>{r.preventDefault(),d()};return s.jsxs("main",{className:o.main,children:[s.jsx("span",{className:o.title,children:"RESETTING CLASSES"}),s.jsx("span",{className:o.confirm,children:"Are you sure?"}),s.jsxs("div",{className:o.buttons,children:[s.jsx("button",{onClick:i,children:s.jsx(S,{className:o.reset,size:"30"})}),s.jsx("button",{onClick:l,children:s.jsx(y,{className:o.cancel,size:"30"})})]})]})}const T=u.lazy(()=>g(()=>import("./SubClass-349b87b7.js"),["assets/SubClass-349b87b7.js","assets/index-56119111.js","assets/index-ec8a7486.css","assets/index-af6d5ed9.js","assets/index-6e42dc81.js","assets/OpenModalButton-95cc9644.js","assets/ErrorModal-803f6696.js","assets/ErrorModal-d7f5a05e.css","assets/index-4ae34738.css"]));function B(){var x;const d=p(),n=m(e=>e.static.classes),i=m(e=>e.builds.current.level),[l,r]=u.useState(1),{setModalContent:h}=j(),t=m(e=>e.builds.current.build_classes[l]),C=!i||i<12,_=(e,c)=>{e.preventDefault(),r(c)},f=(e,c)=>{if(e.preventDefault(),(t==null?void 0:t.mustPickSC)===!0)h(s.jsx(E,{errors:{FAQ:["You have a pending Sub Class choice"]}}));else{const N={class_id:c.class_id,name:c.name,modifier:c.modifier};d(v("build/addBuildClass",N))}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:a.header,children:[s.jsx("div",{className:a.reset,children:i>0&&s.jsx(A,{buttonText:s.jsx(k,{size:"40"}),modalComponent:s.jsx(R,{})})}),s.jsx("div",{className:a.title,children:"Class"}),s.jsx("div",{className:a.spacer})]}),s.jsx("div",{className:a.list,children:Object.values(n).map(e=>s.jsxs("div",{onClick:c=>_(c,e.class_id),className:a.item,children:[s.jsx(b,{loading:"lazy",path:`class_icons/${e.name}.png`,id:a.classImg,className:l===e.class_id?a.selected_img:a.img}),e.name]},e.class_id))}),s.jsxs("div",{className:a.select,children:[s.jsxs("div",{className:a.name,children:[s.jsxs("div",{className:a.levels,children:[s.jsx("div",{className:a.classLevel,children:`${n[l].name}: ${t?t.level:0} `}),s.jsx("div",{className:a.charLevel,children:`Total: ${i} / 12`})]}),C&&s.jsx("button",{className:a.button,onClick:e=>f(e,n[l]),children:t?"Add Level":"Add Class"})]}),s.jsx("div",{className:a.description,children:(x=n[l])==null?void 0:x.description}),t&&s.jsx(u.Suspense,{fallback:"",children:s.jsx(T,{selectedClass:l},t.name)})]})]})}export{B as default};
