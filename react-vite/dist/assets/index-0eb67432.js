import{u as f,c as C,a as d,r as v,j as s,F as I,I as S,f as E,h as P,b as r,E as w,i as x,k as j,C as D,d as L,O as M,e as z}from"./index-6c872996.js";const R="_header_13eev_1",T="_title_13eev_9",$="_reset_13eev_18",B="_heading_13eev_24",F="_abilityList_13eev_35",y="_red_13eev_42",O="_stat_13eev_46",U="_statImg_13eev_51",q="_label_13eev_55",G="_values_13eev_60",K="_valueContainer_13eev_69",Q="_num_13eev_78",V="_disabled_13eev_85",H="_enabled_13eev_92",J="_bonuses_13eev_101",W="_plus_13eev_107",X="_plusSelected_13eev_117",Y="_error_13eev_137",e={header:R,title:T,reset:$,heading:B,abilityList:F,red:y,stat:O,statImg:U,label:q,values:G,valueContainer:K,num:Q,disabled:V,enabled:H,bonuses:J,plus:W,plusSelected:X,error:Y},Z="https://ik.imagekit.io/phl0at/images/stat_icons/";function ss({ability:i}){const n=f(),{setModalContent:_}=C(),c=d(t=>t.builds.current[i]),l=d(t=>t.builds.current.points),m=d(t=>t.builds.current.plus_1),p=d(t=>t.builds.current.plus_2),[o,b]=v.useState(c-8),h=i[0].toUpperCase()+i.slice(1);v.useEffect(()=>{b(p===i?c-10:m===i?c-9:c-8)},[c]);const N=(t,a)=>{t.preventDefault(),o<6?(n(r("build/raisePoints",1)),n(r("build/lowerAbility",a))):(n(r("build/raisePoints",2)),n(r("build/lowerAbility",a)))},g=(t,a)=>{t.preventDefault(),o<5?(n(r("build/lowerPoints",1)),n(r("build/raiseAbility",a))):o>=5&l>1?(n(r("build/lowerPoints",2)),n(r("build/raiseAbility",a))):_(s.jsx(w,{errors:{FAQ:["Increasing this ability requires 2 points"]}}))},k=(t,a)=>{t.preventDefault(),p===a?n(x("plus_2",a)):m!=a&&n(j("plus_2",a))},A=(t,a)=>{t.preventDefault(),m===a?n(x("plus_1",a)):p!=a&&n(j("plus_1",a))};return s.jsxs("div",{className:e.stat,children:[s.jsxs("div",{className:e.label,children:[s.jsx(v.Suspense,{fallback:s.jsx(I,{}),children:s.jsx(S,{loading:"lazy",className:e.statImg,urlEndpoint:Z,path:`${h}.png`})}),s.jsx("div",{className:e.name,children:h})]}),s.jsxs("div",{className:e.values,children:[s.jsxs("div",{className:e.valueContainer,children:[s.jsx("button",{disabled:o<1||l>26,className:o<1||l>26?e.disabled:e.enabled,onClick:t=>N(t,i),children:s.jsx(E,{size:"35"})}),s.jsx("div",{className:e.num,children:c}),s.jsx("button",{disabled:o>6||l<1,className:o>6||l<1?e.disabled:e.enabled,onClick:t=>g(t,i),children:s.jsx(P,{size:"35"})})]}),s.jsxs("div",{className:e.bonuses,children:[s.jsx("button",{onClick:t=>k(t,i),className:p===i?e.plusSelected:e.plus}),s.jsx("button",{onClick:t=>A(t,i),className:m===i?e.plusSelected:e.plus})]})]})]})}const es="_main_yrgfa_1",ts="_title_yrgfa_13",ls="_buttons_yrgfa_18",ns="_reset_yrgfa_25",is="_cancel_yrgfa_35",u={main:es,title:ts,buttons:ls,reset:ns,cancel:is};function as(){const i=f(),{closeModal:n}=C(),_=l=>{l.preventDefault(),i(r("build/resetAbilities")),n()},c=l=>{l.preventDefault(),n()};return s.jsxs("main",{className:u.main,children:[s.jsx("span",{className:u.title,children:"RESETTING ABILITIES"}),s.jsx("span",{className:u.confirm,children:"Are you sure?"}),s.jsxs("div",{className:u.buttons,children:[s.jsx("button",{onClick:_,children:s.jsx(D,{className:u.reset,size:"30"})}),s.jsx("button",{onClick:c,children:s.jsx(L,{className:u.cancel,size:"30"})})]})]})}function rs(){const i=d(l=>l.builds.current.points),n=d(l=>l.builds.current.plus_1),_=d(l=>l.builds.current.plus_2),c=["strength","dexterity","constitution","intelligence","wisdom","charisma"];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e.header,children:[s.jsx("div",{className:e.reset,children:i<27&&s.jsx(M,{buttonText:s.jsx(z,{size:"40"}),modalComponent:s.jsx(as,{})})}),s.jsx("div",{className:e.title,children:"Abilities"})]}),s.jsx("div",{className:e.points,children:`Ability Points: ${i}`}),s.jsxs("div",{className:e.abilityList,children:[s.jsxs("div",{className:e.heading,children:[s.jsx("div",{className:_===""&&e.red,children:"+2"}),s.jsx("div",{className:n===""&&e.red,children:"+1"})]}),c.map(l=>s.jsx(ss,{ability:l},l))]})]})}export{rs as default};
