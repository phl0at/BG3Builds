import{r as d,F as Vt,R as Ht,j as m,u as tt,n as Xt,g as Gt,I as _t}from"./index-465acf11.js";import{G as Yt,a as zt,b as Kt,c as qt,B as Ut}from"./index-c5476464.js";import{s as Jt}from"./index-d65c0dc3.js";import"./OpenModalButton-1c82714e.js";import"./ErrorModal-555bb211.js";const Qt="_title_1ou8j_1",Zt="_modifier_1ou8j_11",te="_introContainer_1ou8j_27",ee="_introTitle_1ou8j_35",ne="_instructions_1ou8j_39",oe="_selected_1ou8j_43",ie="_selectedList_1ou8j_47",se="_available_1ou8j_55",re="_availableList_1ou8j_59",ce="_cantripImg_1ou8j_69",le="_chosenCantripImg_1ou8j_78",ae="_tooltipContainer_1ou8j_90",fe="_tooltip_1ou8j_90",ue="_cantripName_1ou8j_112",de="_cantripDamage_1ou8j_117",me="_cantripDescription_1ou8j_123",ge="_cantripDetails_1ou8j_129",pe="_range_1ou8j_135",he="_radius_1ou8j_141",xe="_concentration_1ou8j_147",we="_Acid_1ou8j_157",ye="_Necrotic_1ou8j_161",_e="_Force_1ou8j_165",ve="_Fire_1ou8j_169",Re="_Poison_1ou8j_173",Ce="_Cold_1ou8j_177",be="_Radiant_1ou8j_181",je="_Lightning_1ou8j_185",Ee="_Psychic_1ou8j_189",Se="_Piercing_1ou8j_193",w={title:Qt,modifier:Zt,introContainer:te,introTitle:ee,instructions:ne,selected:oe,selectedList:ie,available:se,availableList:re,cantripImg:ce,chosenCantripImg:le,tooltipContainer:ae,tooltip:fe,cantripName:ue,cantripDamage:de,cantripDescription:me,cantripDetails:ge,range:pe,radius:he,concentration:xe,Acid:we,Necrotic:ye,Force:_e,Fire:ve,Poison:Re,Cold:Ce,Radiant:be,Lightning:je,Psychic:Ee,Piercing:Se};function ct(){return typeof window<"u"}function z(t){return Pt(t)?(t.nodeName||"").toLowerCase():"#document"}function N(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function M(t){var e;return(e=(Pt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pt(t){return ct()?t instanceof Node||t instanceof N(t).Node:!1}function E(t){return ct()?t instanceof Element||t instanceof N(t).Element:!1}function T(t){return ct()?t instanceof HTMLElement||t instanceof N(t).HTMLElement:!1}function vt(t){return!ct()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof N(t).ShadowRoot}function Z(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=L(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function De(t){return["table","td","th"].includes(z(t))}function lt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xt(t){const e=wt(),o=E(t)?L(t):t;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Ne(t){let e=W(t);for(;T(e)&&!Y(e);){if(xt(e))return e;if(lt(e))return null;e=W(e)}return null}function wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Y(t){return["html","body","#document"].includes(z(t))}function L(t){return N(t).getComputedStyle(t)}function at(t){return E(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function W(t){if(z(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vt(t)&&t.host||M(t);return vt(e)?e.host:e}function Lt(t){const e=W(t);return Y(e)?t.ownerDocument?t.ownerDocument.body:t.body:T(e)&&Z(e)?e:Lt(e)}function dt(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=Lt(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),r=N(i);if(s){const c=mt(r);return e.concat(r,r.visualViewport||[],Z(i)?i:[],c&&o?dt(c):[])}return e.concat(i,dt(i,[],o))}function mt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Rt=Math.min,U=Math.max,nt=Math.round,V=t=>({x:t,y:t}),Pe={left:"right",right:"left",bottom:"top",top:"bottom"},Le={start:"end",end:"start"};function Tt(t,e){return typeof t=="function"?t(e):t}function J(t){return t.split("-")[0]}function yt(t){return t.split("-")[1]}function Te(t){return t==="x"?"y":"x"}function At(t){return t==="y"?"height":"width"}function ot(t){return["top","bottom"].includes(J(t))?"y":"x"}function Ft(t){return Te(ot(t))}function Ae(t,e,o){o===void 0&&(o=!1);const n=yt(t),i=Ft(t),s=At(i);let r=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=it(r)),[r,it(r)]}function Fe(t){const e=it(t);return[gt(t),e,gt(e)]}function gt(t){return t.replace(/start|end/g,e=>Le[e])}function Oe(t,e,o){const n=["left","right"],i=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?s:r;default:return[]}}function Me(t,e,o,n){const i=yt(t);let s=Oe(J(t),o==="start",n);return i&&(s=s.map(r=>r+"-"+i),e&&(s=s.concat(s.map(gt)))),s}function it(t){return t.replace(/left|right|bottom|top/g,e=>Pe[e])}function ke(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ie(t){return typeof t!="number"?ke(t):{top:t,right:t,bottom:t,left:t}}function st(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function Ct(t,e,o){let{reference:n,floating:i}=t;const s=ot(e),r=Ft(e),c=At(r),l=J(e),a=s==="y",u=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,p=n[c]/2-i[c]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:g};break;case"left":f={x:n.x-i.width,y:g};break;default:f={x:n.x,y:n.y}}switch(yt(e)){case"start":f[r]-=p*(o&&a?-1:1);break;case"end":f[r]+=p*(o&&a?-1:1);break}return f}const Be=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:r}=o,c=s.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(e));let a=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:g}=Ct(a,n,l),p=n,f={},y=0;for(let x=0;x<c.length;x++){const{name:C,fn:b}=c[x],{x:j,y:h,data:_,reset:R}=await b({x:u,y:g,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:a,platform:r,elements:{reference:t,floating:e}});u=j??u,g=h??g,f={...f,[C]:{...f[C],..._}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(a=R.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:u,y:g}=Ct(a,p,l)),x=-1)}return{x:u,y:g,placement:p,strategy:i,middlewareData:f}};async function $e(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:r,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:g="floating",altBoundary:p=!1,padding:f=0}=Tt(e,t),y=Ie(f),C=c[p?g==="floating"?"reference":"floating":g],b=st(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(C)))==null||o?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:l})),j=g==="floating"?{x:n,y:i,width:r.floating.width,height:r.floating.height}:r.reference,h=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),_=await(s.isElement==null?void 0:s.isElement(h))?await(s.getScale==null?void 0:s.getScale(h))||{x:1,y:1}:{x:1,y:1},R=st(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:h,strategy:l}):j);return{top:(b.top-R.top+y.top)/_.y,bottom:(R.bottom-b.bottom+y.bottom)/_.y,left:(b.left-R.left+y.left)/_.x,right:(R.right-b.right+y.right)/_.x}}const We=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:s,rects:r,initialPlacement:c,platform:l,elements:a}=e,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...C}=Tt(t,e);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const b=J(i),j=ot(c),h=J(c)===c,_=await(l.isRTL==null?void 0:l.isRTL(a.floating)),R=p||(h||!x?[it(c)]:Fe(c)),A=y!=="none";!p&&A&&R.push(...Me(c,x,y,_));const k=[c,...R],I=await $e(e,C),H=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&H.push(I[b]),g){const P=Ae(i,r,_);H.push(I[P[0]],I[P[1]])}if(F=[...F,{placement:i,overflows:H}],!H.every(P=>P<=0)){var X,K;const P=(((X=s.flip)==null?void 0:X.index)||0)+1,q=k[P];if(q)return{data:{index:P,overflows:F},reset:{placement:q}};let S=(K=F.filter(O=>O.overflows[0]<=0).sort((O,v)=>O.overflows[1]-v.overflows[1])[0])==null?void 0:K.placement;if(!S)switch(f){case"bestFit":{var B;const O=(B=F.filter(v=>{if(A){const D=ot(v.placement);return D===j||D==="y"}return!0}).map(v=>[v.placement,v.overflows.filter(D=>D>0).reduce((D,$)=>D+$,0)]).sort((v,D)=>v[1]-D[1])[0])==null?void 0:B[0];O&&(S=O);break}case"initialPlacement":S=c;break}if(i!==S)return{reset:{placement:S}}}return{}}}};function Ot(t){const e=L(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=T(t),s=i?t.offsetWidth:o,r=i?t.offsetHeight:n,c=nt(o)!==s||nt(n)!==r;return c&&(o=s,n=r),{width:o,height:n,$:c}}function Mt(t){return E(t)?t:t.contextElement}function G(t){const e=Mt(t);if(!T(e))return V(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:s}=Ot(e);let r=(s?nt(o.width):o.width)/n,c=(s?nt(o.height):o.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const Ve=V(0);function kt(t){const e=N(t);return!wt()||!e.visualViewport?Ve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function He(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==N(t)?!1:e}function Q(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),s=Mt(t);let r=V(1);e&&(n?E(n)&&(r=G(n)):r=G(t));const c=He(s,o,n)?kt(s):V(0);let l=(i.left+c.x)/r.x,a=(i.top+c.y)/r.y,u=i.width/r.x,g=i.height/r.y;if(s){const p=N(s),f=n&&E(n)?N(n):n;let y=p,x=mt(y);for(;x&&n&&f!==y;){const C=G(x),b=x.getBoundingClientRect(),j=L(x),h=b.left+(x.clientLeft+parseFloat(j.paddingLeft))*C.x,_=b.top+(x.clientTop+parseFloat(j.paddingTop))*C.y;l*=C.x,a*=C.y,u*=C.x,g*=C.y,l+=h,a+=_,y=N(x),x=mt(y)}}return st({width:u,height:g,x:l,y:a})}function Xe(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const s=i==="fixed",r=M(n),c=e?lt(e.floating):!1;if(n===r||c&&s)return o;let l={scrollLeft:0,scrollTop:0},a=V(1);const u=V(0),g=T(n);if((g||!g&&!s)&&((z(n)!=="body"||Z(r))&&(l=at(n)),T(n))){const p=Q(n);a=G(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}return{width:o.width*a.x,height:o.height*a.y,x:o.x*a.x-l.scrollLeft*a.x+u.x,y:o.y*a.y-l.scrollTop*a.y+u.y}}function Ge(t){return Array.from(t.getClientRects())}function pt(t,e){const o=at(t).scrollLeft;return e?e.left+o:Q(M(t)).left+o}function Ye(t){const e=M(t),o=at(t),n=t.ownerDocument.body,i=U(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=U(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-o.scrollLeft+pt(t);const c=-o.scrollTop;return L(n).direction==="rtl"&&(r+=U(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:r,y:c}}function ze(t,e){const o=N(t),n=M(t),i=o.visualViewport;let s=n.clientWidth,r=n.clientHeight,c=0,l=0;if(i){s=i.width,r=i.height;const a=wt();(!a||a&&e==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:r,x:c,y:l}}function Ke(t,e){const o=Q(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,s=T(t)?G(t):V(1),r=t.clientWidth*s.x,c=t.clientHeight*s.y,l=i*s.x,a=n*s.y;return{width:r,height:c,x:l,y:a}}function bt(t,e,o){let n;if(e==="viewport")n=ze(t,o);else if(e==="document")n=Ye(M(t));else if(E(e))n=Ke(e,o);else{const i=kt(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return st(n)}function It(t,e){const o=W(t);return o===e||!E(o)||Y(o)?!1:L(o).position==="fixed"||It(o,e)}function qe(t,e){const o=e.get(t);if(o)return o;let n=dt(t,[],!1).filter(c=>E(c)&&z(c)!=="body"),i=null;const s=L(t).position==="fixed";let r=s?W(t):t;for(;E(r)&&!Y(r);){const c=L(r),l=xt(r);!l&&c.position==="fixed"&&(i=null),(s?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Z(r)&&!l&&It(t,r))?n=n.filter(u=>u!==r):i=c,r=W(r)}return e.set(t,n),n}function Ue(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const r=[...o==="clippingAncestors"?lt(e)?[]:qe(e,this._c):[].concat(o),n],c=r[0],l=r.reduce((a,u)=>{const g=bt(e,u,i);return a.top=U(g.top,a.top),a.right=Rt(g.right,a.right),a.bottom=Rt(g.bottom,a.bottom),a.left=U(g.left,a.left),a},bt(e,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Je(t){const{width:e,height:o}=Ot(t);return{width:e,height:o}}function Qe(t,e,o){const n=T(e),i=M(e),s=o==="fixed",r=Q(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=V(0);if(n||!n&&!s)if((z(e)!=="body"||Z(i))&&(c=at(e)),n){const f=Q(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=pt(i));let a=0,u=0;if(i&&!n&&!s){const f=i.getBoundingClientRect();u=f.top+c.scrollTop,a=f.left+c.scrollLeft-pt(i,f)}const g=r.left+c.scrollLeft-l.x-a,p=r.top+c.scrollTop-l.y-u;return{x:g,y:p,width:r.width,height:r.height}}function ft(t){return L(t).position==="static"}function jt(t,e){if(!T(t)||L(t).position==="fixed")return null;if(e)return e(t);let o=t.offsetParent;return M(t)===o&&(o=o.ownerDocument.body),o}function Bt(t,e){const o=N(t);if(lt(t))return o;if(!T(t)){let i=W(t);for(;i&&!Y(i);){if(E(i)&&!ft(i))return i;i=W(i)}return o}let n=jt(t,e);for(;n&&De(n)&&ft(n);)n=jt(n,e);return n&&Y(n)&&ft(n)&&!xt(n)?o:n||Ne(t)||o}const Ze=async function(t){const e=this.getOffsetParent||Bt,o=this.getDimensions,n=await o(t.floating);return{reference:Qe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tn(t){return L(t).direction==="rtl"}const en={convertOffsetParentRelativeRectToViewportRelativeRect:Xe,getDocumentElement:M,getClippingRect:Ue,getOffsetParent:Bt,getElementRects:Ze,getClientRects:Ge,getDimensions:Je,getScale:G,isElement:E,isRTL:tn},nn=We,on=(t,e,o)=>{const n=new Map,i={platform:en,...o},s={...i.platform,_c:n};return Be(t,e,{...i,platform:s})};var et=typeof document<"u"?d.useLayoutEffect:d.useEffect;function rt(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let o,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==e.length)return!1;for(n=o;n--!==0;)if(!rt(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),o=i.length,o!==Object.keys(e).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=o;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!rt(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function $t(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Et(t,e){const o=$t(t);return Math.round(e*o)/o}function ut(t){const e=d.useRef(t);return et(()=>{e.current=t}),e}function sn(t){t===void 0&&(t={});const{placement:e="bottom",strategy:o="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:r}={},transform:c=!0,whileElementsMounted:l,open:a}=t,[u,g]=d.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=d.useState(n);rt(p,n)||f(n);const[y,x]=d.useState(null),[C,b]=d.useState(null),j=d.useCallback(v=>{v!==A.current&&(A.current=v,x(v))},[]),h=d.useCallback(v=>{v!==k.current&&(k.current=v,b(v))},[]),_=s||y,R=r||C,A=d.useRef(null),k=d.useRef(null),I=d.useRef(u),H=l!=null,F=ut(l),X=ut(i),K=ut(a),B=d.useCallback(()=>{if(!A.current||!k.current)return;const v={placement:e,strategy:o,middleware:p};X.current&&(v.platform=X.current),on(A.current,k.current,v).then(D=>{const $={...D,isPositioned:K.current!==!1};P.current&&!rt(I.current,$)&&(I.current=$,Vt.flushSync(()=>{g($)}))})},[p,e,o,X,K]);et(()=>{a===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(v=>({...v,isPositioned:!1})))},[a]);const P=d.useRef(!1);et(()=>(P.current=!0,()=>{P.current=!1}),[]),et(()=>{if(_&&(A.current=_),R&&(k.current=R),_&&R){if(F.current)return F.current(_,R,B);B()}},[_,R,B,F,H]);const q=d.useMemo(()=>({reference:A,floating:k,setReference:j,setFloating:h}),[j,h]),S=d.useMemo(()=>({reference:_,floating:R}),[_,R]),O=d.useMemo(()=>{const v={position:o,left:0,top:0};if(!S.floating)return v;const D=Et(S.floating,u.x),$=Et(S.floating,u.y);return c?{...v,transform:"translate("+D+"px, "+$+"px)",...$t(S.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:D,top:$}},[o,c,S.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:B,refs:q,elements:S,floatingStyles:O}),[u,B,q,S,O])}const rn=(t,e)=>({...nn(t),options:[t,e]}),Wt={...Ht},cn=Wt.useInsertionEffect,ln=cn||(t=>t());function an(t){const e=d.useRef(()=>{});return ln(()=>{e.current=t}),d.useCallback(function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var ht=typeof document<"u"?d.useLayoutEffect:d.useEffect;let St=!1,fn=0;const Dt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fn++;function un(){const[t,e]=d.useState(()=>St?Dt():void 0);return ht(()=>{t==null&&e(Dt())},[]),d.useEffect(()=>{St=!0},[]),t}const dn=Wt.useId,mn=dn||un;function gn(){const t=new Map;return{emit(e,o){var n;(n=t.get(e))==null||n.forEach(i=>i(o))},on(e,o){t.set(e,[...t.get(e)||[],o])},off(e,o){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==o))||[])}}}const pn=d.createContext(null),hn=d.createContext(null),xn=()=>{var t;return((t=d.useContext(pn))==null?void 0:t.id)||null},wn=()=>d.useContext(hn);function yn(t){const{open:e=!1,onOpenChange:o,elements:n}=t,i=mn(),s=d.useRef({}),[r]=d.useState(()=>gn()),c=xn()!=null,[l,a]=d.useState(n.reference),u=an((f,y,x)=>{s.current.openEvent=f?y:void 0,r.emit("openchange",{open:f,event:y,reason:x,nested:c}),o==null||o(f,y,x)}),g=d.useMemo(()=>({setPositionReference:a}),[]),p=d.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return d.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:p,events:r,floatingId:i,refs:g}),[e,u,p,r,i,g])}function _n(t){t===void 0&&(t={});const{nodeId:e}=t,o=yn({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||o,i=n.elements,[s,r]=d.useState(null),[c,l]=d.useState(null),u=(i==null?void 0:i.reference)||s,g=d.useRef(null),p=wn();ht(()=>{u&&(g.current=u)},[u]);const f=sn({...t,elements:{...i,...c&&{reference:c}}}),y=d.useCallback(h=>{const _=E(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;l(_),f.refs.setReference(_)},[f.refs]),x=d.useCallback(h=>{(E(h)||h===null)&&(g.current=h,r(h)),(E(f.refs.reference.current)||f.refs.reference.current===null||h!==null&&!E(h))&&f.refs.setReference(h)},[f.refs]),C=d.useMemo(()=>({...f.refs,setReference:x,setPositionReference:y,domReference:g}),[f.refs,x,y]),b=d.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),j=d.useMemo(()=>({...f,...n,refs:C,elements:b,nodeId:e}),[f,C,b,e,n]);return ht(()=>{n.dataRef.current.floatingContext=j;const h=p==null?void 0:p.nodesRef.current.find(_=>_.id===e);h&&(h.context=j)}),d.useMemo(()=>({...f,context:j,refs:C,elements:b}),[f,C,b,j])}function Nt({cantrip:t,children:e}){const[o,n]=d.useState(!1),{refs:i}=_n({middleware:[rn({mainAxis:!0})]});return m.jsxs("div",{ref:i.setReference,className:w.tooltipContainer,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e,o&&m.jsxs("div",{className:w.tooltip,children:[m.jsx("div",{className:w.cantripName,children:t.name}),m.jsx("div",{className:w.cantripSchool,children:`${t.school} Cantrip`}),m.jsx("div",{className:w.cantripDamage,children:t.damage&&`${t.damage.replace("d","~")} Damage`}),m.jsxs("div",{className:`${w.cantripDamageType} ${w[t.damage_type]}`,children:[t.damage&&m.jsx(Yt,{}),t.damage&&`${t.damage} ${t.damage_type}`]}),m.jsx("div",{className:w.cantripDescription,children:t.description}),t.duration>0&&m.jsxs("div",{className:w.cantripDuration,children:[t.duration," ",`${t.duration>1?"turns":"turn"}`]}),m.jsxs("div",{className:w.cantripDetails,children:[m.jsx("div",{className:w.range,children:t.range>2?m.jsxs(m.Fragment,{children:[m.jsx(Jt,{})," ",t.range,"m"]}):m.jsxs(m.Fragment,{children:[m.jsx(zt,{}),"Melee"]})}),m.jsx("div",{className:w.radius,children:t.radius&&m.jsxs(m.Fragment,{children:[m.jsx(Kt,{})," ",t.radius,"m"]})}),t.concentration&&m.jsxs("div",{className:w.concentration,children:[m.jsx(qt,{})," Concentration"]})]})]})]})}function En(){const t=tt(i=>i.static.cantrips),e=tt(Xt)[0].modifier.toUpperCase(),o=tt(Gt),n=tt(i=>i.builds.current.cantrips);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:w.title,children:"Cantrips"}),m.jsxs("div",{className:w.modifier,title:"Spell Casting Modifier",children:[m.jsx(Ut,{size:"11"})," ",e.slice(0,3)]}),m.jsxs("p",{className:w.introContainer,children:[m.jsx("div",{className:w.introTitle,children:"Select Cantrips"}),m.jsx("div",{className:w.instructions,children:`Change your cantrip selection by choosing from the spell list below.
          Cantrips don't use spell slots and can be cast at will.`})]}),m.jsx("div",{className:w.selected,children:"Selected"}),m.jsx("div",{className:w.selectedList,children:o.map(i=>m.jsx(Nt,{cantrip:t[i.cantrip_id],children:m.jsx(_t,{className:w.cantripImg,loading:"lazy",path:`cantrip_icons/${t[i.cantrip_id].name}.png`})},i.cantrip_id))}),m.jsx("div",{className:w.available,children:"Available"}),m.jsx("div",{className:w.availableList,children:Object.values(t).map(i=>m.jsx(Nt,{cantrip:i,children:m.jsx(_t,{className:n[i.id]?w.chosenCantripImg:w.cantripImg,loading:"lazy",path:`cantrip_icons/${i.name}.png`})},i.id))})]})}export{En as default};
