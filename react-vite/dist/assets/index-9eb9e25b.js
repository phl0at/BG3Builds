import{a as f,f as C,b as d,r as x,j as s,I,c as r,C as h,D as j}from"./index-fda81100.js";import{E as S}from"./ErrorModal-de311d70.js";import{q as D,r as E,b as P,c as w,p as M}from"./index-5ef99207.js";import{O as z}from"./OpenModalButton-e1cfe889.js";const L="_header_13eev_1",R="_title_13eev_9",T="_reset_13eev_18",$="_heading_13eev_24",B="_abilityList_13eev_35",y="_red_13eev_42",O="_stat_13eev_46",q="_statImg_13eev_51",F="_label_13eev_55",U="_values_13eev_60",G="_valueContainer_13eev_69",K="_num_13eev_78",Q="_disabled_13eev_85",V="_enabled_13eev_92",H="_bonuses_13eev_101",J="_plus_13eev_107",W="_plusSelected_13eev_117",X="_error_13eev_137",e={header:L,title:R,reset:T,heading:$,abilityList:B,red:y,stat:O,statImg:q,label:F,values:U,valueContainer:G,num:K,disabled:Q,enabled:V,bonuses:H,plus:J,plusSelected:W,error:X};function Y({ability:i}){const n=f(),{setModalContent:_}=C(),c=d(t=>t.builds.current[i]),l=d(t=>t.builds.current.points),m=d(t=>t.builds.current.plus_1),p=d(t=>t.builds.current.plus_2),[o,b]=x.useState(c-8),v=i[0].toUpperCase()+i.slice(1);x.useEffect(()=>{b(p===i?c-10:m===i?c-9:c-8)},[c]);const N=(t,a)=>{t.preventDefault(),o<6?(n(r("build/raisePoints",1)),n(r("build/lowerAbility",a))):(n(r("build/raisePoints",2)),n(r("build/lowerAbility",a)))},g=(t,a)=>{t.preventDefault(),o<5?(n(r("build/lowerPoints",1)),n(r("build/raiseAbility",a))):o>=5&l>1?(n(r("build/lowerPoints",2)),n(r("build/raiseAbility",a))):_(s.jsx(S,{errors:{FAQ:["Increasing this ability requires 2 points"]}}))},A=(t,a)=>{t.preventDefault(),p===a?n(h("plus_2",a)):m!=a&&n(j("plus_2",a))},k=(t,a)=>{t.preventDefault(),m===a?n(h("plus_1",a)):p!=a&&n(j("plus_1",a))};return s.jsxs("div",{className:e.stat,children:[s.jsxs("div",{className:e.label,children:[s.jsx(I,{loading:"lazy",className:e.statImg,path:`stat_icons/${v}.png`}),s.jsx("div",{className:e.name,children:v})]}),s.jsxs("div",{className:e.values,children:[s.jsxs("div",{className:e.valueContainer,children:[s.jsx("button",{disabled:o<1||l>26,className:o<1||l>26?e.disabled:e.enabled,onClick:t=>N(t,i),children:s.jsx(D,{size:"35"})}),s.jsx("div",{className:e.num,children:c}),s.jsx("button",{disabled:o>6||l<1,className:o>6||l<1?e.disabled:e.enabled,onClick:t=>g(t,i),children:s.jsx(E,{size:"35"})})]}),s.jsxs("div",{className:e.bonuses,children:[s.jsx("button",{onClick:t=>A(t,i),className:p===i?e.plusSelected:e.plus}),s.jsx("button",{onClick:t=>k(t,i),className:m===i?e.plusSelected:e.plus})]})]})]})}const Z="_main_yrgfa_1",ss="_title_yrgfa_13",es="_buttons_yrgfa_18",ts="_reset_yrgfa_25",ls="_cancel_yrgfa_35",u={main:Z,title:ss,buttons:es,reset:ts,cancel:ls};function ns(){const i=f(),{closeModal:n}=C(),_=l=>{l.preventDefault(),i(r("build/resetAbilities")),n()},c=l=>{l.preventDefault(),n()};return s.jsxs("main",{className:u.main,children:[s.jsx("span",{className:u.title,children:"RESETTING ABILITIES"}),s.jsx("span",{className:u.confirm,children:"Are you sure?"}),s.jsxs("div",{className:u.buttons,children:[s.jsx("button",{onClick:_,children:s.jsx(P,{className:u.reset,size:"30"})}),s.jsx("button",{onClick:c,children:s.jsx(w,{className:u.cancel,size:"30"})})]})]})}function os(){const i=d(l=>l.builds.current.points),n=d(l=>l.builds.current.plus_1),_=d(l=>l.builds.current.plus_2),c=["strength","dexterity","constitution","intelligence","wisdom","charisma"];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e.header,children:[s.jsx("div",{className:e.reset,children:i<27&&s.jsx(z,{buttonText:s.jsx(M,{size:"40"}),modalComponent:s.jsx(ns,{})})}),s.jsx("div",{className:e.title,children:"Abilities"})]}),s.jsx("div",{className:e.points,children:`Ability Points: ${i}`}),s.jsxs("div",{className:e.abilityList,children:[s.jsxs("div",{className:e.heading,children:[s.jsx("div",{className:_===""&&e.red,children:"+2"}),s.jsx("div",{className:n===""&&e.red,children:"+1"})]}),c.map(l=>s.jsx(Y,{ability:l},l))]})]})}export{os as default};
