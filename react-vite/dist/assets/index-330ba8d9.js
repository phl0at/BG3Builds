import{c as b,u as j,j as s,h as p,a as m,r as u,I as N,_ as f}from"./index-a9bae4a3.js";import{s as a}from"./index-34b8162e.js";import{b as g,c as y,p as S}from"./index-74cbca94.js";import{O as k}from"./OpenModalButton-b3f8803b.js";import"./ErrorModal-7d22d213.js";const E="_main_yrgfa_1",I="_title_yrgfa_13",L="_buttons_yrgfa_18",A="_reset_yrgfa_25",D="_cancel_yrgfa_35",i={main:E,title:I,buttons:L,reset:A,cancel:D};function z(){const{closeModal:o}=b(),c=j(),n=d=>{d.preventDefault(),c(p("build/resetClasses")),o()},t=d=>{d.preventDefault(),o()};return s.jsxs("main",{className:i.main,children:[s.jsx("span",{className:i.title,children:"RESETTING CLASSES"}),s.jsx("span",{className:i.confirm,children:"Are you sure?"}),s.jsxs("div",{className:i.buttons,children:[s.jsx("button",{onClick:n,children:s.jsx(g,{className:i.reset,size:"30"})}),s.jsx("button",{onClick:t,children:s.jsx(y,{className:i.cancel,size:"30"})})]})]})}const M=u.lazy(()=>f(()=>import("./SubClass-f7375da5.js"),["assets/SubClass-f7375da5.js","assets/index-a9bae4a3.js","assets/index-ec8a7486.css","assets/index-34b8162e.js","assets/index-74cbca94.js","assets/OpenModalButton-b3f8803b.js","assets/ErrorModal-7d22d213.js","assets/ErrorModal-d7f5a05e.css","assets/index-e8e97dd2.css"]));function P(){var x;const o=j(),c=m(e=>e.static.classes),n=m(e=>e.builds.current.level),[t,d]=u.useState(1),r=m(e=>e.builds.current.build_classes[t]),v=!n||n<12,h=(e,l)=>{e.preventDefault(),d(l)},C=(e,l)=>{e.preventDefault();const _={class_id:l.class_id,name:l.name,modifier:l.modifier,sub_class:l.sub_class?l.sub_class:null};o(p("build/addBuildClass",_))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:a.header,children:[s.jsx("div",{className:a.reset,children:n>0&&s.jsx(k,{buttonText:s.jsx(S,{size:"40"}),modalComponent:s.jsx(z,{})})}),s.jsx("div",{className:a.title,children:"Class"}),s.jsx("div",{className:a.spacer})]}),s.jsx("div",{className:a.list,children:Object.values(c).map(e=>s.jsxs("div",{onClick:l=>h(l,e.class_id),className:a.item,children:[s.jsx(N,{loading:"lazy",path:`class_icons/${e.name}.png`,id:a.classImg,className:t===e.class_id?a.selected_img:a.img}),e.name]},e.class_id))}),s.jsxs("div",{className:a.select,children:[s.jsxs("div",{className:a.name,children:[s.jsxs("div",{className:a.levels,children:[s.jsx("div",{className:a.classLevel,children:`${c[t].name}: ${r?r.level:0} `}),s.jsx("div",{className:a.charLevel,children:`Total: ${n} / 12`})]}),v&&s.jsx("button",{className:a.button,onClick:e=>C(e,c[t]),children:r?"Add Level":"Add Class"})]}),s.jsx("div",{className:a.description,children:(x=c[t])==null?void 0:x.description}),r&&s.jsx(u.Suspense,{fallback:"",children:s.jsx(M,{selectedClass:t})})]})]})}export{P as default};
