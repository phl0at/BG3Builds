import{a as f,c as v,u,r as h,j as s,I as y,h as r,D as k,E as j}from"./index-692dd1c2.js";import{E as A}from"./ErrorModal-b76e34f6.js";import{q as I,r as S,b as E,c as D,p as P}from"./index-b96a9c26.js";import{O as w}from"./OpenModalButton-5f93c555.js";const M="_header_1qkyk_1",z="_title_1qkyk_9",L="_reset_1qkyk_18",R="_heading_1qkyk_24",T="_abilityList_1qkyk_35",$="_red_1qkyk_42",B="_stat_1qkyk_46",O="_statImg_1qkyk_51",F="_label_1qkyk_55",U="_values_1qkyk_60",G="_valueContainer_1qkyk_69",K="_num_1qkyk_78",Q="_disabled_1qkyk_85",V="_enabled_1qkyk_92",H="_bonuses_1qkyk_101",J="_plus_1qkyk_107",W="_plusSelected_1qkyk_117",X="_error_1qkyk_137",e={header:M,title:z,reset:L,heading:R,abilityList:T,red:$,stat:B,statImg:O,label:F,values:U,valueContainer:G,num:K,disabled:Q,enabled:V,bonuses:H,plus:J,plusSelected:W,error:X};function Y({ability:c}){const l=f(),{setModalContent:_}=v(),a=u(t=>t.builds.current[c]),n=u(t=>t.builds.current.points),m=u(t=>t.builds.current.plus_1),p=u(t=>t.builds.current.plus_2),[o,b]=h.useState(a-8),x=c[0].toUpperCase()+c.slice(1);h.useEffect(()=>{b(p===c?a-10:m===c?a-9:a-8)},[a]);const N=(t,i)=>{t.preventDefault(),o<6?(l(r("build/raisePoints",1)),l(r("build/lowerAbility",i))):(l(r("build/raisePoints",2)),l(r("build/lowerAbility",i)))},C=(t,i)=>{t.preventDefault(),o<5?(l(r("build/lowerPoints",1)),l(r("build/raiseAbility",i))):o>=5&n>1?(l(r("build/lowerPoints",2)),l(r("build/raiseAbility",i))):_(s.jsx(A,{errors:{FAQ:["Increasing this ability requires 2 points"]}}))},g=(t,i)=>{t.preventDefault(),p===i?l(k("plus_2",i)):(m===i&&l(k("plus_1",i)),l(j("plus_2",i)))},q=(t,i)=>{t.preventDefault(),m===i?l(k("plus_1",i)):(p===i&&l(k("plus_2",i)),l(j("plus_1",i)))};return s.jsxs("div",{className:e.stat,children:[s.jsxs("div",{className:e.label,children:[s.jsx(y,{loading:"lazy",className:e.statImg,path:`stat_icons/${x}.png`}),s.jsx("div",{className:e.name,children:x})]}),s.jsxs("div",{className:e.values,children:[s.jsxs("div",{className:e.valueContainer,children:[s.jsx("button",{disabled:o<1||n>26,className:o<1||n>26?e.disabled:e.enabled,onClick:t=>N(t,c),children:s.jsx(I,{size:"35"})}),s.jsx("div",{className:e.num,children:a}),s.jsx("button",{disabled:o>6||n<1,className:o>6||n<1?e.disabled:e.enabled,onClick:t=>C(t,c),children:s.jsx(S,{size:"35"})})]}),s.jsxs("div",{className:e.bonuses,children:[s.jsx("button",{onClick:t=>g(t,c),className:p===c?e.plusSelected:e.plus}),s.jsx("button",{onClick:t=>q(t,c),className:m===c?e.plusSelected:e.plus})]})]})]})}const Z="_main_yrgfa_1",ss="_title_yrgfa_13",es="_buttons_yrgfa_18",ts="_reset_yrgfa_25",ls="_cancel_yrgfa_35",d={main:Z,title:ss,buttons:es,reset:ts,cancel:ls};function ns(){const c=f(),{closeModal:l}=v(),_=n=>{n.preventDefault(),c(r("build/resetAbilities")),l()},a=n=>{n.preventDefault(),l()};return s.jsxs("main",{className:d.main,children:[s.jsx("span",{className:d.title,children:"RESETTING ABILITIES"}),s.jsx("span",{className:d.confirm,children:"Are you sure?"}),s.jsxs("div",{className:d.buttons,children:[s.jsx("button",{onClick:_,children:s.jsx(E,{className:d.reset,size:"30"})}),s.jsx("button",{onClick:a,children:s.jsx(D,{className:d.cancel,size:"30"})})]})]})}function os(){const c=u(n=>n.builds.current.points),l=u(n=>n.builds.current.plus_1),_=u(n=>n.builds.current.plus_2),a=["strength","dexterity","constitution","intelligence","wisdom","charisma"];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e.header,children:[s.jsx("div",{className:e.reset,children:c<27&&s.jsx(w,{buttonText:s.jsx(P,{size:"40"}),modalComponent:s.jsx(ns,{})})}),s.jsx("div",{className:e.title,children:"Abilities"})]}),s.jsx("div",{className:e.points,children:`Ability Points: ${c}`}),s.jsxs("div",{className:e.abilityList,children:[s.jsxs("div",{className:e.heading,children:[s.jsx("div",{className:_===""?e.red:"",children:"+2"}),s.jsx("div",{className:l===""?e.red:"",children:"+1"})]}),a.map(n=>s.jsx(Y,{ability:n},n))]})]})}export{os as default};
