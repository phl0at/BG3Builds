import{a as h,c as j,u,r as x,j as s,I as C,i as c}from"./index-233d7af9.js";import{E as g}from"./ErrorModal-7050dc38.js";import{q,r as A,b as I,c as P,p as S}from"./index-0c3267f0.js";import{O as B}from"./OpenModalButton-1c7f8c15.js";const E="_header_1qkyk_1",w="_title_1qkyk_9",D="_reset_1qkyk_18",M="_heading_1qkyk_24",z="_abilityList_1qkyk_35",L="_red_1qkyk_42",R="_stat_1qkyk_46",T="_statImg_1qkyk_51",$="_label_1qkyk_55",O="_values_1qkyk_60",F="_valueContainer_1qkyk_69",U="_num_1qkyk_78",G="_disabled_1qkyk_85",K="_enabled_1qkyk_92",Q="_bonuses_1qkyk_101",V="_plus_1qkyk_107",H="_plusSelected_1qkyk_117",J="_error_1qkyk_137",e={header:E,title:w,reset:D,heading:M,abilityList:z,red:L,stat:R,statImg:T,label:$,values:O,valueContainer:F,num:U,disabled:G,enabled:K,bonuses:Q,plus:V,plusSelected:H,error:J};function W({ability:a}){const l=h(),{setModalContent:_}=j(),o=u(t=>t.builds.current[a]),n=u(t=>t.builds.current.abilityPoints),m=u(t=>t.builds.current.plus_1),b=u(t=>t.builds.current.plus_2),[r,p]=x.useState(o-8),k=a[0].toUpperCase()+a.slice(1);x.useEffect(()=>{p(b===a?o-10:m===a?o-9:o-8)},[o]);const f=(t,i)=>{t.preventDefault(),r<6?(l(c("build/raisePoints",1)),l(c("build/lowerAbility",i))):(l(c("build/raisePoints",2)),l(c("build/lowerAbility",i)))},v=(t,i)=>{t.preventDefault(),r<5?(l(c("build/lowerPoints",1)),l(c("build/raiseAbility",i))):r>=5&n>1?(l(c("build/lowerPoints",2)),l(c("build/raiseAbility",i))):_(s.jsx(g,{errors:{FAQ:["Increasing this ability requires 2 points"]}}))},y=(t,i)=>{t.preventDefault(),b===i?l(c("build/clearBonus",{amount:"plus_2",ability:i})):(m===i&&l(c("build/clearBonus",{amount:"plus_1",ability:i})),l(c("build/setBonus",{amount:"plus_2",ability:i})))},N=(t,i)=>{t.preventDefault(),m===i?l(c("build/clearBonus",{amount:"plus_1",ability:i})):(b===i&&l(c("build/clearBonus",{amount:"plus_2",ability:i})),l(c("build/setBonus",{amount:"plus_1",ability:i})))};return s.jsxs("div",{className:e.stat,children:[s.jsxs("div",{className:e.label,children:[s.jsx(C,{loading:"lazy",className:e.statImg,path:`stat_icons/${k}.png`}),s.jsx("div",{className:e.name,children:k})]}),s.jsxs("div",{className:e.values,children:[s.jsxs("div",{className:e.valueContainer,children:[s.jsx("button",{disabled:r<1||n>26,className:r<1||n>26?e.disabled:e.enabled,onClick:t=>f(t,a),children:s.jsx(q,{size:"35"})}),s.jsx("div",{className:e.num,children:o}),s.jsx("button",{disabled:r>6||n<1,className:r>6||n<1?e.disabled:e.enabled,onClick:t=>v(t,a),children:s.jsx(A,{size:"35"})})]}),s.jsxs("div",{className:e.bonuses,children:[s.jsx("button",{onClick:t=>y(t,a),className:b===a?e.plusSelected:e.plus}),s.jsx("button",{onClick:t=>N(t,a),className:m===a?e.plusSelected:e.plus})]})]})]})}const X="_main_yrgfa_1",Y="_title_yrgfa_13",Z="_buttons_yrgfa_18",ss="_reset_yrgfa_25",es="_cancel_yrgfa_35",d={main:X,title:Y,buttons:Z,reset:ss,cancel:es};function ts(){const a=h(),{closeModal:l}=j(),_=n=>{n.preventDefault(),a(c("build/resetAbilities")),l()},o=n=>{n.preventDefault(),l()};return s.jsxs("main",{className:d.main,children:[s.jsx("span",{className:d.title,children:"RESETTING ABILITIES"}),s.jsx("span",{className:d.confirm,children:"Are you sure?"}),s.jsxs("div",{className:d.buttons,children:[s.jsx("button",{onClick:_,children:s.jsx(I,{className:d.reset,size:"30"})}),s.jsx("button",{onClick:o,children:s.jsx(P,{className:d.cancel,size:"30"})})]})]})}function cs(){const a=u(n=>n.builds.current.abilityPoints),l=u(n=>n.builds.current.plus_1),_=u(n=>n.builds.current.plus_2),o=["strength","dexterity","constitution","intelligence","wisdom","charisma"];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e.header,children:[s.jsx("div",{className:e.reset,children:a<27&&s.jsx(B,{buttonText:s.jsx(S,{size:"40"}),modalComponent:s.jsx(ts,{})})}),s.jsx("div",{className:e.title,children:"Abilities"})]}),s.jsx("div",{className:e.points,children:`Ability Points: ${a}`}),s.jsxs("div",{className:e.abilityList,children:[s.jsxs("div",{className:e.heading,children:[s.jsx("div",{className:_===""?e.red:"",children:"+2"}),s.jsx("div",{className:l===""?e.red:"",children:"+1"})]}),o.map(n=>s.jsx(W,{ability:n},n))]})]})}export{cs as default};
